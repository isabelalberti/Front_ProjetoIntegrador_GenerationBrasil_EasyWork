<div class="container-fluid mt-4">
    <div class="row gutters-sm">
        <div class="col-md-3 mb-3">
            <div class="card">
                <div class="card-body mr-3">
                    <div class="d-flex flex-column align-items-center text-center">
                        <img src="{{ user.picture }}" alt="imagem do user" class="rounded-circle" width="150" />
                        <div class="mt-3">
                            <h4>{{ user.fullName }}</h4>
                            <p class="text-secondary mb-1">
                                {{ user.city }}
                            </p>
                            <button type="button" class="btn btn-outline-secondary btn-md ml-2 mb-3" style="width: 100%"
                                data-toggle="modal" data-target="#novaPostagem" [routerLink]="['/edit-user', idUser]">
                                Editar perfil
                            </button>

                            <a [href]="['https://easyworkgen.netlify.app/#/profile/'+ idUser]" target="_blank">Compartilhe sua página</a>

                        </div>
                    </div>
                </div>
            </div>
            <div class="card mt-3">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
                        *ngIf="(user.gitHub == null || user.gitHub == '') == false">
                        <h6 class="mb-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 60 60"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="feather feather-github mr-2 icon-inline">
                                <path
                                    d="M32 6C17.641 6 6 17.641 6 32c0 12.277 8.512 22.56 19.955 25.286-.592-.141-1.179-.299-1.755-.479V50.85c0 0-.975.325-2.275.325-3.637 0-5.148-3.245-5.525-4.875-.229-.993-.827-1.934-1.469-2.509-.767-.684-1.126-.686-1.131-.92-.01-.491.658-.471.975-.471 1.625 0 2.857 1.729 3.429 2.623 1.417 2.207 2.938 2.577 3.721 2.577.975 0 1.817-.146 2.397-.426.268-1.888 1.108-3.57 2.478-4.774-6.097-1.219-10.4-4.716-10.4-10.4 0-2.928 1.175-5.619 3.133-7.792C19.333 23.641 19 22.494 19 20.625c0-1.235.086-2.751.65-4.225 0 0 3.708.026 7.205 3.338C28.469 19.268 30.196 19 32 19s3.531.268 5.145.738c3.497-3.312 7.205-3.338 7.205-3.338.567 1.474.65 2.99.65 4.225 0 2.015-.268 3.19-.432 3.697C46.466 26.475 47.6 29.124 47.6 32c0 5.684-4.303 9.181-10.4 10.4 1.628 1.43 2.6 3.513 2.6 5.85v8.557c-.576.181-1.162.338-1.755.479C49.488 54.56 58 44.277 58 32 58 17.641 46.359 6 32 6zM33.813 57.93C33.214 57.972 32.61 58 32 58 32.61 58 33.213 57.971 33.813 57.93zM37.786 57.346c-1.164.265-2.357.451-3.575.554C35.429 57.797 36.622 57.61 37.786 57.346zM32 58c-.61 0-1.214-.028-1.813-.07C30.787 57.971 31.39 58 32 58zM29.788 57.9c-1.217-.103-2.411-.289-3.574-.554C27.378 57.61 28.571 57.797 29.788 57.9z">
                                </path>
                            </svg>
                            <a href="{{ user.gitHub }}" class="Github" target="_blank">Github</a>
                        </h6>
                    </li>

                    <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
                        *ngIf="(user.linkedin == null || user.linkedin == '') == false">
                        <h6 class="mb-0">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="48" height="48"
                                viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path fill="#0288D1"
                                    d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z">
                                </path>
                                <path fill="#FFF"
                                    d="M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z">
                                </path>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                            </svg>
                            <a href="{{ user.linkedin }}" class="Github" target="_blank">Linkedin</a>
                        </h6>
                    </li>
                </ul>
            </div>
        </div>


        <div class="col-md-9">
            <div class="d-flex justify-content-center">
                <div class="col-md-9 mb-5 text-white text-center">
                    <h2 class="text-center text-white">Quem sou eu? <a href="#sobreMim" type="click" data-toggle="modal" data-whatever="@getbootstrap"><span class="ml-3 text-white fs-16"><i
                                    class="fa-solid fa-pen-to-square"></i></span></a></h2>
                    <h3 class="mt-4 auto align-itens-justify text-white">
                        {{ user.autoBiography }}
                    </h3>
                </div>
            </div>
            
            <div class="modal fade" id="sobreMim" tabindex="-1" aria-labelledby="autoBio"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="autoBio">Sobre mim</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form>                                
                                <div class="form-group">                                    
                                    <label for="about" class="col-form-label">Conte-nos sobre você:</label>
                                    <textarea [(ngModel)]="user.autoBiography" cols="5" rows="12" maxlength="520" class="form-control" id="about" name="about"></textarea>
                                </div>
                            </form>
                        </div>
                        <form>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                                <button type="button submit" class="btn btn-primary" data-dismiss="modal" (click)="updateBio()" >Atualizar</button>                          
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <h3 class="mb-3 text-white text-center">Meus Cards</h3>

            <div class="tam d-flex align-items-center flex-wrap">

                <div class="flip-card-container m-3" *ngFor="let card of user.card">

                    <div class="flip-card">
                        <div class="card-front">
                            <ul class="dois d-flex justify-content-center flex-column text-dark">
                                <li>{{ card.companyName }}</li>
                                <li>{{ card.occupation }}</li>
                                <li>{{ card.institution }}</li>
                                <li>{{ card.formation }}</li>
                                <li class="mt-5">
                                    <small>{{ card.startDate | date: "dd/mm/yyyy" }}</small>
                                </li>
                                <li><small>{{ card.endDate | date: "dd/mm/yyyy" }}</small></li>
                            </ul>
                        </div>

                        <div class="card-back d-flex flex-wrap justify-content-center">
                            <p>{{ card.description }}</p>
                            <button class="btnCard btn-danger" *ngIf="card.description"
                                [routerLink]="['/delete-card', card.id]">
                                Deletar
                            </button>
                            <p class="text-center text-white" *ngIf="
                                    this.card.description == '' ||
                                    this.card.description == null
                                ">
                                Adicionar descrição
                                <textarea id="descricao" name="descricao" rows="2" cols="20" wrap="hard"
                                    (input)="descricao($event)"></textarea>
                                <button class="btnCard btn-info mt-4 mb-1" (click)="putDescription(card.id)">
                                    Salvar
                                </button>
                                <button class="btnCard btn-danger" [routerLink]="['/delete-card', card.id]">
                                    Deletar
                                </button>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="mt-5">
                    <h3 class="mb-3 text-white text-center">
                        Minhas Habilidades
                    </h3>
                    <div class="tam d-flex align-items-center flex-wrap"></div>

                    <div class="d-flex flex-wrap">
                        <ng-container *ngFor="let card of user.card">
                            <div class="flip-card-container-test m-3" *ngFor='let skill of card.skill'>
                                <div class="flip-teste">
                                    <div class="card-front">
                                        <ul
                                            class="dois d-flex justify-content-center align-items-center flex-column text-dark">
                                            <li>
                                                {{skill.technicalSkill}}</li>
                                            <li>
                                                {{skill.skill}}</li>
                                            <li>
                                                {{skill.nivel}}</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>

                    <div class="ml-4">
                        <div class="row">
                            <div class="col-md-4">
                                <a href="#/card">
                                    <div class="cardCriar">
                                        <p class="fa fa-plus"></p>
                                        <h5>Criar</h5>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>